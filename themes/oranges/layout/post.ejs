<!-- 文章详情页，展示文章具体内容，url形式：https://yoursite/文章标题/ -->
<!-- 同时为「标签tag」，「朋友friend」，「分类categories」，「关于about」页面的承载页面，具体展示取决于page.type -->

<!-- LaTex Display -->
<% if (theme.LaTex.enable) {%>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script
  type="text/javascript"
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>
<script>
  MathJax = {
    tex: {
      inlineMath: [
        ['$', '$'],
        ['\\(', '\\)'],
      ],
    },
  };
</script>
<% } %> 

<%- css('/css/github-markdown.css') %>

<% if (page.type === "tags") { %>
<!-- 标签页 url形式：https://yoursite/tags/ -->
<div class="container">
  <div><%- list_tags({ class: "tag" }) %></div>
</div>
<% } %> <% if (page.type === "categories") { %>
<!-- 分类页 url形式：https://yoursite/categories/ -->
<div class="container category-index">
  <div><%- list_categories({orderby: "length", order: -1}) %></div>
</div>
<% } %> <% if (page.type === "friends") { %>
<!-- 朋友页 url形式：https://yoursite/friends/ -->
<div class="container">
  <ul class="friend-list">
    <% for(let friend of theme.friends) { %>
    <div class="friend-list-item">
      <span class="nickname">@ <%- friend.nickname %></span>
      <a href="<%- friend.site %>" target="_blank">
        <span class="site-path"><%- friend.site %></span>
      </a>
      <p class="card-meta"><%- friend.meta %></p>
    </div>
    <% } %>
  </ul>
  <div class="markdown-body"><%- page.content %></div>
</div>
<% } %> <% if(page.type === "about") { %>
<!-- 关于页 url形式：https://yoursite/about/ -->
<div class="container">
  <div class="markdown-body"><%- page.content %></div>
</div>
<% } %> <% if (!page.type) { %>
<!-- 文章内容页 url形式：https://yoursite/文章标题/ -->
<article class="container post-details" id="post-details">
  <div class="post-content">
    <div class="post-title"><%- page.title %></div>
    <div class="post-attach">
      <span class="post-pubtime">
        <i class="iconfont icon-updatetime" title="<%= __('updateTime') %>"></i>
        <%- page.date.format("YYYY-MM-DD HH:mm:ss") %>
      </span>
      <% for(item of theme.navbar) { if (item.key === 'tags' && item.enable) {
      if(page.tags && page.tags.length > 0) { %>
      <span class="post-tags">
        <i class="iconfont icon-tags" title="<%= __('tags') %>"></i>
        <% for(let item of page.tags.data) { %>
        <span class="span--tag">
          <a href="<%= url_for(item.path)%>" title="<%- item.name %>">
            <b>#</b> <%- item.name %>
          </a>
        </span>
        <% } %>
      </span>
      <% } } if (item.key === 'categories' && item.enable) { if(page.tags &&
      page.categories.length > 0) { %>
      <span class="post-categories">
        <i class="iconfont icon-bookmark" title="<%= __('categories') %>"></i>
        <% for(let item of page.categories.data){ %>
        <span class="span--category">
          <a href="<%= url_for(item.path)%>" title="<%- item.name %>">
            <b>#</b> <%- item.name %>
          </a>
        </span>
        <% } %>
      </span>
      <% } } } %>
    </div>
    <div class="markdown-body"><%- page.more %></div>
    <% if(theme.prevnext.enable) { %>
    <div class="prev-or-next">
      <div class="post-foot-next">
        <% if(page.next) { %>
        <a href="<%- url_for(page.next.path) %>" target="_self">
          <i class="iconfont icon-chevronleft"></i>
          <span><%= __('prev') %></span>
        </a>
        <% } %>
      </div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i
            class="iconfont icon-updatetime"
            title="<%= __('updateTime') %>"
          ></i>
          <%- page.date.format("YYYY-MM-DD HH:mm:ss") %>
        </span>
        <% for(item of theme.navbar) { if (item.key === 'tags' && item.enable) {
        if(page.tags && page.tags.length > 0) { %>
        <span class="post-tags">
          <i class="iconfont icon-tags" title="<%= __('tags') %>"></i>
          <% for(let item of page.tags.data) { %>
          <span class="span--tag">
            <a href="<%= url_for(item.path)%>" title="<%- item.name %>">
              <b>#</b> <%- item.name %>
            </a>
          </span>
          <% } %>
        </span>
        <% } } if (item.key === 'categories' && item.enable) { if(page.tags &&
        page.categories.length > 0) { %>
        <span class="post-categories">
          <i class="iconfont icon-bookmark" title="<%= __('categories') %>"></i>
          <% for(let item of page.categories.data){ %>
          <span class="span--category">
            <a href="<%= url_for(item.path)%>" title="<%- item.name %>">
              <b>#</b> <%- item.name %>
            </a>
          </span>
          <% } %>
        </span>
        <% } } } %>
      </div>
      <div class="post-foot-prev">
        <% if(page.prev) { %>
        <a href="<%- url_for(page.prev.path) %>" target="_self">
          <span><%= __('next') %></span>
          <i class="iconfont icon-chevronright"></i>
        </a>
        <% } %>
      </div>
    </div>
    <% } %>
  </div>
  <%- partial("_partial/catalog") %> <% if(theme.comments.enable) { %>
  <div class="comments-container"><%- partial("_partial/comments") %></div>
  <% } %>
</article>
<% } %>
